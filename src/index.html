<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<input type="button" id="eraser" value="擦除"/>
<input type="button" id="draw" value="画笔"/>
<!--<input type="button" id="zoomUp" value="放大"/>-->
<!--<input type="button" id="zoomReset" value="恢复缩放"/>-->
<!--<input type="button" id="zoomIn" value="缩小"/>-->
<input type="button" id="undo" value="撤销"/>
<input type="button" id="redo" value="重做"/>
<input type="button" id="save" value="保存"/>
<input type="button" id="load" value="加载"/>
<input id="loadInput" value=""/>

<div id='pa' style="height: 320px;width:800px"></div>

<script type="module">
    import PixelPad from './pixel-pad.js'

    const pixelPadEl = document.getElementById('pa');
    const pixelPad = new PixelPad(pixelPadEl);

    // function zoomUp() {
    //     pixelPad.zoomUpdate(pixelPad.option.boxSize + 2)
    // }
    //
    // function zoomIn() {
    //     pixelPad.zoomUpdate(pixelPad.option.boxSize - 2)
    // }
    //
    // function zoomReset() {
    //     pixelPad.zoomReset()
    // }
    (function () {
        // document.getElementById('zoomUp').addEventListener('click', () => {
        //     pixelPad.zoomUpdate(16)
        // })
        // document.getElementById('zoomIn').addEventListener('click', () => {
        //     pixelPad.zoomUpdate(8)
        // })
        // document.getElementById('zoomReset').addEventListener('click', () => {
        //     pixelPad.zoomReset()
        // })
        document.getElementById('eraser').addEventListener('click', () => {
            pixelPad.setUsingTool('eraser')
        })
        document.getElementById('draw').addEventListener('click', () => {
            pixelPad.setUsingTool()
        })

        document.getElementById('undo').addEventListener('click', () => {
            pixelPad.undo()
        })
        document.getElementById('redo').addEventListener('click', () => {
            pixelPad.redo()
        })
        document.getElementById('save').addEventListener('click', () => {
            const save = pixelPad.save()
            console.log('save', save, JSON.stringify(save).length)
        })
        document.getElementById('load').addEventListener('click', () => {
            pixelPad.load(JSON.parse(document.getElementById('loadInput').value))
        })

    })()

</script>
</body>
<style>
    * {
        padding: 0;
        margin: 0;
        background-color: whitesmoke;
    }
</style>
</html>
